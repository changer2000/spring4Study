<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>可放置小部件（Droppable Widget）演示</title>
  <link rel="stylesheet" href="http://apps.bdimg.com/libs/jqueryui/1.10.4/css/jquery-ui.min.css">
  <style>
  .draggable {
    width: 100px;
    height: 100px;
    background: #ccc;
	margin:2px;
	float:left;
  }
  #droppable {
    /*position: absolute;*/
    left: 250px;
    top: 0;
    width: 125px;
    height: 125px;
    background: #999;
    color: #fff;
    padding: 10px;
  }
  </style>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
<div id="droppable" style="clear:both;">请放置到这里！</div>
<div id="parentDiv" style="height:300px;overflow:scroll;">
	<div id="draggable1" class="draggable">请拖拽我！1</div>
	<div id="draggable2" class="draggable">请拖拽我！2</div>
	<div id="draggable3" class="draggable">请拖拽我！3</div>
	<div id="draggable4" class="draggable">请拖拽我！4</div>
</div>

<div style="clear:both;"/>
<input type="button" id="btn" value="show" onclick="showInfo();"/>
<script>
$(".draggable").draggable({containment: "#parentDiv"});
$("#droppable").droppable({
  drop: function(event, ui) {
	  //alert(event);
    //alert( "dropped" );
  }
});

$( ".draggable" ).draggable({
  
  stop: function( event, ui ) {
	//alert('drag stop');
	//alert(ui.helper.context.id);
	//alert($('#'+ui.helper.context.id).prev('div').attr('id')); 还是按照原来位置拿prev/next
	//alert($('#'+ui.helper.context.id).next('div').attr('id'));
	
	var obj = $('#'+ui.helper.context.id);
	//alert(obj.css('top') + "," + obj.css('left'));
	console.log("stop event:"+obj.css('left') + "," + obj.css('top'));
  }
});
function showInfo() {
	//$("#droppable").next('div').
	$('#draggable1').after('<div id="draggable5" class="draggable">请拖拽我！5</div>');
}
</script>
 
</body>
</html>